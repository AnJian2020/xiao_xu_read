## 分词概述

词是自然语言中能够独立运用的最小单位，是语言信息处理的基本单位。 

词法分析是对自然语言的形态(morphology) 进行分析，判断词的结构、类别和性质。 

主要任务包括： 

- 自动分词（segmentation） 
- 命名实体识别（Named Entity Recognition）
- 词性标注（Part-of-Speech）

**分词算法**

1. 基于规则的分词方法。
   - 基本思想：按照一定策略将待分析的汉字串与一个“充分大的”机器词典中的词条进行匹配
   - 根据扫描方向的不同，这种分词方法分为正向匹配、逆向匹配和 双向匹配。
   - 常见的匹配原则有逐词匹配、最大匹配、最小匹配和最佳匹配。
   - 简单易行，但歧义消解能力差
2. 基于统计的分词方法
   - 基本思想：在分词的同时进行句法、语义分析，利用句法信息和语义信息来处理歧义现象，让计算机模拟人对句子的理解来进行分词。
   - 主要方法：N 元文法模型（N-gram）、隐马尔可夫模型（Hiden Markov Model，HMM）、最大熵模型（ME）、条件随机场模型（Conditional Random Fields，CRF）等
   - 效果依赖于训练语料的规模和质量
3. 基于理解的分词方法
   - 基本思想：在分词的同时进行句法、语义分析，利用句法信息和语义信息来处理歧义现象，让计算机模拟人对句子的理解来进行分词。
   - 主要方法：专家系统分词、神经网络分词（LSTM,CNN）
   - 需要大量的语言知识和信息

## 基于规则的分词方法

基于规则的分词方法，又称为机械式分词方法、基于字典的分词方法。

按照一定策略，将待分析的汉字与一个“极大的”机器词典中的词条进行匹配。若在词典中找到某个字符串，则匹配成功。

根据扫描方向的不同，分为正向匹配、逆向匹配和双向匹配。

根据匹配原则的不同，分为逐词匹配、最大匹配、最小匹配和最佳匹配

### 逐词匹配法

### 正向最大匹配法

正向最大匹配法（Maximum MatchingMethod），简称为 MM 法，基于词典的分词方法。

对于输入的一段文本从左至右、以贪心的方式切分出当前位置上长度最大的词。

> 分词原理：单词的颗粒度越大，所能表示的含义越确切。

**主要步骤**

1. 一般从一个字符串的开始位置，选择一个最大长度的词长的片段，如果序列不足最大词长，则选择全部序列。 
2. 首先看该片段是否在词典中，如果是，则算为一个分出来的词，如果不是，则从右边开始，减少一个字符， 然后看短一点的这个片段是否在词典中，依次循环，逐到只剩下一个字。
3. 序列变为第2步骤截取分词后，剩下的部分序列。

<img src="https://raw.githubusercontent.com/AnJian2020/study_recorder/main/images/202308141603017.png" alt="image-20230814160315878" style="zoom: 50%;" />

### 反向最大匹配法

反向最大匹配法（Reverse Maximum Matching Method），简称为 RMM法，其基本原理与正向最大匹配法类似，只是分词顺序变为从右至左，误差 比正向最大匹配法要小。

由于汉语中偏正结构较多，若从后向前匹配，可以适当提高精确度。 

它使用的分词词典是逆序词典，其中的每个词条都将按逆序方式存放。在实际处理时，先将文档进行倒排处理，生成逆序文档。

![image-20230814170123807](https://raw.githubusercontent.com/AnJian2020/study_recorder/main/images/202308141701939.png)

### 双向最大匹配法

双向最大匹配法是将正向最大匹配法得到的分词结果和逆向最大匹配法的到的结果进行比较，从而决定正确的分词方法。

**规则**

1. 如果正反向分词结果词数不同，则取分词数量较少的那个。
2. 如果分词结果词数相同
   - 分词结果相同，就说明没有歧义，可返回任意一个。
   - 分词结果不同，返回其中单字较少的那个。

## 基于统计的分词方法